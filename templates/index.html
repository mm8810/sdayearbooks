<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SDA Yearbook Analyzer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>SDA Yearbook Analyzer</h1>
    <p class="sub">Upload one or more Seventh-day Adventist Yearbook PDFs (e.g., 1883–1921), and get a CSV of officers and roles.</p>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
      <div class="flash">
        {% for msg in messages %}<div>{{ msg }}</div>{% endfor %}
      </div>
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('analyze') }}" method="post" enctype="multipart/form-data" class="card">
      <label for="files">Choose PDF files</label>
      <input type="file" id="files" name="files" accept="application/pdf" multiple>
      <button type="submit">Analyze PDFs</button>
    </form>

    <details class="help">
      <summary>What you'll get</summary>
      <ul>
        <li>A CSV with these columns: conference, region, institution-name, organization, group, position-information, position, prefix, name, lastname, suffix, gender, location, yearbook-year, page, source-pdf.</li>
        <li>A quick summary of counts by year and by conference.</li>
      </ul>
      <p>If something looks off (e.g., a section misread as “Page”), you can re-run on specific files after adjusting the parser, or try the AI-assisted parser variant.</p>
    </details>
  </div>
</body>
</html>
